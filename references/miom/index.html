<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Mixed Integer Optimization for Metabolism"><meta name=author content="Pablo Rodriguez-Mier"><link href=https://metexplore.github.io/miom/references/miom/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.2.4"><title>miom.py - MIOM</title><link rel=stylesheet href=../../assets/stylesheets/main.f7f47774.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5SV6WE1KMZ"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-5SV6WE1KMZ",{page_path:t.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5SV6WE1KMZ"></script><link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=#2e5c87 data-md-color-accent> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#miompy class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=MIOM class="md-header__button md-logo" aria-label=MIOM data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> MIOM </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> miom.py </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://www.github.com/metexplore/miom title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> miom </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=MIOM class="md-nav__button md-logo" aria-label=MIOM data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> MIOM </label> <div class=md-nav__source> <a href=https://www.github.com/metexplore/miom title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> miom </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Examples data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/fastcore/ class=md-nav__link> Exact Fastcore (MIP) </a> </li> <li class=md-nav__item> <a href=../../examples/fba/ class=md-nav__link> Flux Balance Analysis (LP) </a> </li> <li class=md-nav__item> <a href=../../examples/imat/ class=md-nav__link> iMAT: Integrative Metabolic Analysis Tool (MIP) </a> </li> <li class=md-nav__item> <a href=../../examples/sparse_fba/ class=md-nav__link> Sparse FBA (MIP) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=References data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mio/ class=md-nav__link> mio.py </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> miom.py <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> miom.py </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#miom.miom class=md-nav__link> miom.miom </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel class=md-nav__link> BaseModel </a> <nav class=md-nav aria-label=BaseModel> <ul class=md-nav__list> <li class=md-nav__item> <a href=#miom.miom.BaseModel.add_constraint class=md-nav__link> add_constraint() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.add_constraints class=md-nav__link> add_constraints() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.get_fluxes class=md-nav__link> get_fluxes() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.get_values class=md-nav__link> get_values() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.keep class=md-nav__link> keep() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.obtain_subnetwork class=md-nav__link> obtain_subnetwork() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.reset class=md-nav__link> reset() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.select_subnetwork class=md-nav__link> select_subnetwork() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_flux_bounds class=md-nav__link> set_flux_bounds() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_fluxes_for class=md-nav__link> set_fluxes_for() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_objective class=md-nav__link> set_objective() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_rxn_objective class=md-nav__link> set_rxn_objective() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.setup class=md-nav__link> setup() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.solve class=md-nav__link> solve() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.steady_state class=md-nav__link> steady_state() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.subset_selection class=md-nav__link> subset_selection() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miom.miom.Comparator class=md-nav__link> Comparator </a> </li> <li class=md-nav__item> <a href=#miom.miom.ExtractionMode class=md-nav__link> ExtractionMode </a> </li> <li class=md-nav__item> <a href=#miom.miom.Solvers class=md-nav__link> Solvers </a> </li> <li class=md-nav__item> <a href=#miom.miom.load class=md-nav__link> load() </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#miom.miom class=md-nav__link> miom.miom </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel class=md-nav__link> BaseModel </a> <nav class=md-nav aria-label=BaseModel> <ul class=md-nav__list> <li class=md-nav__item> <a href=#miom.miom.BaseModel.add_constraint class=md-nav__link> add_constraint() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.add_constraints class=md-nav__link> add_constraints() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.get_fluxes class=md-nav__link> get_fluxes() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.get_values class=md-nav__link> get_values() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.keep class=md-nav__link> keep() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.obtain_subnetwork class=md-nav__link> obtain_subnetwork() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.reset class=md-nav__link> reset() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.select_subnetwork class=md-nav__link> select_subnetwork() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_flux_bounds class=md-nav__link> set_flux_bounds() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_fluxes_for class=md-nav__link> set_fluxes_for() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_objective class=md-nav__link> set_objective() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.set_rxn_objective class=md-nav__link> set_rxn_objective() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.setup class=md-nav__link> setup() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.solve class=md-nav__link> solve() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.steady_state class=md-nav__link> steady_state() </a> </li> <li class=md-nav__item> <a href=#miom.miom.BaseModel.subset_selection class=md-nav__link> subset_selection() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miom.miom.Comparator class=md-nav__link> Comparator </a> </li> <li class=md-nav__item> <a href=#miom.miom.ExtractionMode class=md-nav__link> ExtractionMode </a> </li> <li class=md-nav__item> <a href=#miom.miom.Solvers class=md-nav__link> Solvers </a> </li> <li class=md-nav__item> <a href=#miom.miom.load class=md-nav__link> load() </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=miompy>miom.py</h1> <div class="doc doc-object doc-module"> <a id=miom.miom></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=miom.miom.BaseModel class="doc doc-heading"> <code>BaseModel</code> </h2> <div class="doc doc-contents "> <p>Base class for building LP/MIP optimization models using a high-level API for metabolic problems.</p> <p>It implements the chainable methods to set-up a LP/MIP metabolic network problem. Two implementations are available: PicosModel and PythonMipModel. The PicosModel uses the <a href=https://picos-api.gitlab.io/picos/ >PICOS library</a> as a backend to interact with different solvers. The PythonMipModel uses the <a href=https://www.python-mip.com/ >Python-MIP</a> library to solve the model using the CBC or GUROBI solvers.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Do not try to instantiate this class directly. Use the <a href=#miom.miom.load>load()</a> function instead. The method automatically selects the right implementation depending on the solver.</p> </div> <div class="doc doc-children"> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.add_constraint class="doc doc-heading"> <code class="highlight language-python"><span class=n>add_constraint</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>constraint</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Add a specific constraint to the model. The constraint should use existing variables already included in the model.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>constraint</code></td> <td><code></code></td> <td><p>affine expression using model's variables.</p></td> <td><em>required</em></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>add_constraint</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>constraint</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Add a specific constraint to the model.</span>
<span class=sd>    The constraint should use existing variables already included in the model.</span>

<span class=sd>    Args:</span>
<span class=sd>        constraint: affine expression using model&#39;s variables.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>pass</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.add_constraints class="doc doc-heading"> <code class="highlight language-python"><span class=n>add_constraints</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>constraints</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Add a list of constraint to the model</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>constraints</code></td> <td><code>list</code></td> <td><p>List of expressions with the constraints.</p></td> <td><em>required</em></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>add_constraints</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>constraints</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Add a list of constraint to the model</span>

<span class=sd>    Args:</span>
<span class=sd>        constraints (list): List of expressions with the</span>
<span class=sd>            constraints.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>constraints</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_constraint</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>constraints</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.get_fluxes class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_fluxes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Get the flux values.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>reactions</code></td> <td><code>list</code></td> <td><p>Reaction or subset of reactions For which to obtain the flux values. Defaults to None.</p></td> <td><code>None</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>list</code></td> <td><p>List with the flux values for all or the selected reactions.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>get_fluxes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Get the flux values.</span>

<span class=sd>    Args:</span>
<span class=sd>        reactions (list, optional): Reaction or subset of reactions</span>
<span class=sd>            For which to obtain the flux values. Defaults to None.</span>

<span class=sd>    Returns:</span>
<span class=sd>        list: List with the flux values for all or the selected reactions.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>reactions</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>get_reaction_id</span><span class=p>(</span><span class=n>reactions</span><span class=p>)]</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>reactions</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>):</span>
        <span class=k>return</span> <span class=p>{</span>
            <span class=n>r</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>]:</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>get_reaction_id</span><span class=p>(</span><span class=n>r</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>])]</span>
            <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reactions</span>
        <span class=p>}</span>
    <span class=k>if</span> <span class=n>reactions</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;reactions should be an iterable of strings or a single string&quot;</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.get_values class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_values</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Get the values for the variables</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>tuple</code></td> <td><p>(V, X) where V are the flux values and X are the indicator values (if the problem is a MIP problem, for example if <code>subset_selection</code> was called)</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>get_values</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Get the values for the variables</span>

<span class=sd>    Returns:</span>
<span class=sd>        tuple: (V, X) where V are the flux values and X are the indicator values</span>
<span class=sd>            (if the problem is a MIP problem, for example if `subset_selection` was</span>
<span class=sd>            called)</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>values</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.keep class="doc doc-heading"> <code class="highlight language-python"><span class=n>keep</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Force the inclusion of a list of reactions in the solution.</p> <p>Reactions have to be associated with positive weights in order to keep them in the final solution. Note that once keep() is called, the weights associated to the reactions selected to be kept will not be taken into account, as they will be forced to be kept in the solution.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>reactions</code></td> <td><code>list</code></td> <td><p>List of reaction names, a binary vector indicating the reactions to keep, or a list of indexes with the reactions to keep.</p></td> <td><em>required</em></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>keep</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Force the inclusion of a list of reactions in the solution.</span>

<span class=sd>    Reactions have to be associated with positive weights in order to</span>
<span class=sd>    keep them in the final solution. Note that once keep() is called,</span>
<span class=sd>    the weights associated to the reactions selected to be kept will</span>
<span class=sd>    not be taken into account, as they will be forced to be kept in</span>
<span class=sd>    the solution.</span>

<span class=sd>    Args:</span>
<span class=sd>        reactions (list): List of reaction names, a binary vector</span>
<span class=sd>            indicating the reactions to keep, or a list of indexes</span>
<span class=sd>            with the reactions to keep.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>indicators</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;No indicator variables for reactions, &quot;</span>
                         <span class=s2>&quot;transform it to a subset selection problem calling &quot;</span>
                         <span class=s2>&quot;subset_selection first, providing positive weights for the &quot;</span>
                         <span class=s2>&quot;reactions you want to keep.&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>reactions</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>reactions</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>reactions</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
        <span class=n>reactions</span> <span class=o>=</span> <span class=p>[</span><span class=n>reactions</span><span class=p>]</span>
    <span class=c1># Check if it&#39;s a binary vector</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>reactions</span><span class=p>)</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>num_reactions</span> <span class=ow>and</span> <span class=nb>max</span><span class=p>(</span><span class=n>reactions</span><span class=p>)</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
        <span class=n>reactions</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=n>reactions</span><span class=o>==</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
    <span class=c1># Check if the reactions have an indicator variable</span>
    <span class=n>reactions</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>find_reaction</span><span class=p>(</span><span class=n>rxn</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>rxn</span> <span class=ow>in</span> <span class=n>reactions</span><span class=p>)</span>
    <span class=n>available</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>rxn</span><span class=o>.</span><span class=n>index</span> <span class=k>for</span> <span class=n>rxn</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>assigned_reactions</span> <span class=k>if</span> <span class=n>rxn</span><span class=o>.</span><span class=n>cost</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
    <span class=n>diff</span> <span class=o>=</span> <span class=n>reactions</span> <span class=o>-</span> <span class=n>available</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>diff</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Only reactions associated with positive weights &quot;</span>
                         <span class=sa>f</span><span class=s2>&quot;can be forced to be selected. The following reaction &quot;</span>
                         <span class=sa>f</span><span class=s2>&quot;indexes have no indicator variables or are associated with &quot;</span>
                         <span class=sa>f</span><span class=s2>&quot;negative weights: </span><span class=si>{</span><span class=n>diff</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
    <span class=n>valid_rxn_idx</span> <span class=o>=</span> <span class=n>reactions</span> <span class=o>&amp;</span> <span class=n>available</span>
    <span class=c1># Get the indexes of the indicator variables</span>
    <span class=n>idxs</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>assigned_reactions</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>r</span><span class=o>.</span><span class=n>index</span> <span class=ow>in</span> <span class=n>valid_rxn_idx</span><span class=p>]</span>
    <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>idxs</span><span class=o>=</span><span class=n>idxs</span><span class=p>,</span> <span class=n>valid_rxn_idx</span><span class=o>=</span><span class=n>valid_rxn_idx</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.obtain_subnetwork class="doc doc-heading"> <code class="highlight language-python"><span class=n>obtain_subnetwork</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>extraction_mode</span><span class=o>=&lt;</span><span class=n>ExtractionMode</span><span class=o>.</span><span class=n>ABSOLUTE_FLUX_VALUE</span><span class=p>:</span> <span class=s1>&#39;flux_value&#39;</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>comparator</span><span class=o>=&lt;</span><span class=n>Comparator</span><span class=o>.</span><span class=n>GREATER_OR_EQUAL</span><span class=p>:</span> <span class=s1>&#39;geq&#39;</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>value</span><span class=o>=</span><span class=mf>1e-08</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Same as <a href=#miom.miom.BaseModel>select_subnetwork</a> but returns the network instead.</p> <p>See <a href=#miom.miom.BaseModel>select_subnetwork</a> for a detailed description of the method.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>MiomNetwork</code></td> <td><p>A MiomNetwork with the selected subnetwork.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>obtain_subnetwork</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>extraction_mode</span><span class=o>=</span><span class=n>ExtractionMode</span><span class=o>.</span><span class=n>ABSOLUTE_FLUX_VALUE</span><span class=p>,</span>
        <span class=n>comparator</span><span class=o>=</span><span class=n>Comparator</span><span class=o>.</span><span class=n>GREATER_OR_EQUAL</span><span class=p>,</span>
        <span class=n>value</span><span class=o>=</span><span class=mf>1e-8</span>
<span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Same as [select_subnetwork][miom.miom.BaseModel] but returns the network instead.</span>

<span class=sd>    See [select_subnetwork][miom.miom.BaseModel] for a detailed description of the method.</span>

<span class=sd>    Returns:</span>
<span class=sd>        MiomNetwork: A MiomNetwork with the selected subnetwork.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># If indicators are present and assigned,</span>
    <span class=c1># take the subset of the network for which</span>
    <span class=c1># the indicators of positive weighted reactions</span>
    <span class=c1># are equal to 1</span>
    <span class=k>if</span> <span class=n>extraction_mode</span> <span class=o>==</span> <span class=n>ExtractionMode</span><span class=o>.</span><span class=n>ABSOLUTE_FLUX_VALUE</span><span class=p>:</span>
        <span class=n>variables</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span>
        <span class=k>if</span> <span class=n>variables</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;The model does not contain flux variables. &quot;</span>
                             <span class=s2>&quot;You need to call first steady_state() to add &quot;</span>
                             <span class=s2>&quot;the flux variables&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>extraction_mode</span> <span class=o>==</span> <span class=n>ExtractionMode</span><span class=o>.</span><span class=n>INDICATOR_VALUE</span><span class=p>:</span>
        <span class=n>variables</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>indicator_values</span>
        <span class=k>if</span> <span class=n>variables</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;The model does not contain indicator variables. &quot;</span>
                             <span class=s2>&quot;You need to transform it to a subset selection problem &quot;</span>
                             <span class=s2>&quot;by invoking subset_selection() first.&quot;</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>extraction_mode</span> <span class=o>==</span> <span class=n>ExtractionMode</span><span class=o>.</span><span class=n>REACTION_ACTIVITY</span><span class=p>:</span>
        <span class=n>variables</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>reaction_activity</span>
        <span class=k>if</span> <span class=n>variables</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;The model does not contain reaction activity variables. &quot;</span>
                             <span class=s2>&quot;You need to transform it to a subset selection problem &quot;</span>
                             <span class=s2>&quot;by invoking subset_selection() first.&quot;</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid extraction mode&quot;</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>comparator</span> <span class=o>==</span> <span class=n>Comparator</span><span class=o>.</span><span class=n>GREATER_OR_EQUAL</span><span class=p>:</span>
        <span class=n>selected</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><span class=n>variables</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>value</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
    <span class=k>elif</span> <span class=n>comparator</span> <span class=o>==</span> <span class=n>Comparator</span><span class=o>.</span><span class=n>LESS_OR_EQUAL</span><span class=p>:</span>
        <span class=n>selected</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><span class=n>variables</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=n>value</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid comparison&quot;</span><span class=p>)</span>
    <span class=c1># TODO: Assigned reactions work only for indicator variables</span>
    <span class=k>if</span> <span class=n>extraction_mode</span> <span class=o>==</span> <span class=n>ExtractionMode</span><span class=o>.</span><span class=n>INDICATOR_VALUE</span><span class=p>:</span>
        <span class=n>rxns</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>assigned_reactions</span><span class=p>[</span><span class=n>x</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>selected</span><span class=p>]</span>
        <span class=n>selected_idx</span> <span class=o>=</span> <span class=p>[</span><span class=n>rxn</span><span class=o>.</span><span class=n>index</span> <span class=k>for</span> <span class=n>rxn</span> <span class=ow>in</span> <span class=n>rxns</span><span class=p>]</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>selected_idx</span> <span class=o>=</span> <span class=n>selected</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>subnet</span><span class=p>(</span><span class=n>selected_idx</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.reset class="doc doc-heading"> <code class="highlight language-python"><span class=n>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Resets the original problem (removes all modifications)</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Resets the original problem (removes all modifications)</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>problem</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=s2>&quot;Problem is not initialized, nothing to reset&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>True</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.select_subnetwork class="doc doc-heading"> <code class="highlight language-python"><span class=n>select_subnetwork</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mode</span><span class=o>=&lt;</span><span class=n>ExtractionMode</span><span class=o>.</span><span class=n>ABSOLUTE_FLUX_VALUE</span><span class=p>:</span> <span class=s1>&#39;flux_value&#39;</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>comparator</span><span class=o>=&lt;</span><span class=n>Comparator</span><span class=o>.</span><span class=n>GREATER_OR_EQUAL</span><span class=p>:</span> <span class=s1>&#39;geq&#39;</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>value</span><span class=o>=</span><span class=mf>1e-08</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Select a subnetwork and create a new BaseModel to operate on it.</p> <p>The new instance of the BaseModel is a new problem instance with no constraints. If the idea is to perform FBA simulations on this new subnetwork, remember to add the new constraints, especially the <code>steady_state</code>.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>mode</code></td> <td><code>ExtractionMode</code></td> <td><p>Method used to extract the subnetwork (based on flux values or using the indicator values). Defaults to ExtractionMode.ABSOLUTE_FLUX_VALUE.</p></td> <td><code>&lt;ExtractionMode.ABSOLUTE_FLUX_VALUE: &#39;flux_value&#39;&gt;</code></td> </tr> <tr> <td><code>comparator</code></td> <td><code>Comparator</code></td> <td><p>Comparator for the selected mode. Defaults to Comparator.GREATER_OR_EQUAL.</p></td> <td><code>&lt;Comparator.GREATER_OR_EQUAL: &#39;geq&#39;&gt;</code></td> </tr> <tr> <td><code>value</code></td> <td><code>float</code></td> <td><p>Value threshold for the mode and comparator selected. Defaults to 1e-8.</p></td> <td><code>1e-08</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>[type]</code></td> <td><p>[description]</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>select_subnetwork</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>mode</span><span class=o>=</span><span class=n>ExtractionMode</span><span class=o>.</span><span class=n>ABSOLUTE_FLUX_VALUE</span><span class=p>,</span>
        <span class=n>comparator</span><span class=o>=</span><span class=n>Comparator</span><span class=o>.</span><span class=n>GREATER_OR_EQUAL</span><span class=p>,</span>
        <span class=n>value</span><span class=o>=</span><span class=mf>1e-8</span>
<span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Select a subnetwork and create a new BaseModel to operate on it.</span>

<span class=sd>    The new instance of the BaseModel is a new problem instance with no constraints.</span>
<span class=sd>    If the idea is to perform FBA simulations on this new subnetwork, remember to add</span>
<span class=sd>    the new constraints, especially the `steady_state`.</span>

<span class=sd>    Args:</span>
<span class=sd>        mode (ExtractionMode, optional): Method used to extract the subnetwork </span>
<span class=sd>            (based on flux values or using the indicator values). </span>
<span class=sd>            Defaults to ExtractionMode.ABSOLUTE_FLUX_VALUE.</span>
<span class=sd>        comparator (Comparator, optional): Comparator for the selected mode. </span>
<span class=sd>            Defaults to Comparator.GREATER_OR_EQUAL.</span>
<span class=sd>        value (float, optional): Value threshold for the mode and comparator selected. </span>
<span class=sd>            Defaults to 1e-8.</span>

<span class=sd>    Returns:</span>
<span class=sd>        [type]: [description]</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>obtain_subnetwork</span><span class=p>(</span><span class=n>extraction_mode</span><span class=o>=</span><span class=n>mode</span><span class=p>,</span>
                                  <span class=n>comparator</span><span class=o>=</span><span class=n>comparator</span><span class=p>,</span>
                                  <span class=n>value</span><span class=o>=</span><span class=n>value</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.set_flux_bounds class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_flux_bounds</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn_id</span><span class=p>,</span> <span class=n>min_flux</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_flux</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Change the flux bounds of a reaction.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>rxn_id</code></td> <td><code>str/int</code></td> <td><p>name or id of the reaction to change</p></td> <td><em>required</em></td> </tr> <tr> <td><code>min_flux</code></td> <td><code>float</code></td> <td><p>Min flux value. Defaults to None.</p></td> <td><code>None</code></td> </tr> <tr> <td><code>max_flux</code></td> <td><code>float</code></td> <td><p>Max flux value. Defaults to None.</p></td> <td><code>None</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>set_flux_bounds</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn_id</span><span class=p>,</span> <span class=n>min_flux</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_flux</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Change the flux bounds of a reaction.</span>

<span class=sd>    Args:</span>
<span class=sd>        rxn_id (str/int): name or id of the reaction to change</span>
<span class=sd>        min_flux (float, optional): Min flux value. Defaults to None.</span>
<span class=sd>        max_flux (float, optional): Max flux value. Defaults to None.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>i</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>find_reaction</span><span class=p>(</span><span class=n>rxn_id</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>i</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.set_fluxes_for class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_fluxes_for</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mf>1e-06</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Force the flux of certain reactions to match current values.</p> <p>After calling <code>.solve()</code> for a flux optimization problem (e.g. FBA), this method adds a new constraint to force the flux of the given reactions to match the current flux values found after the optimization.</p> <p>This is interesting for example to implement methods like sparse-FBA, where the optimization is no longer the flux but the number of active reactions, and a new constraint is required to preserve optimality of fluxes.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>reactions</code></td> <td><code>list</code></td> <td><p>reaction or list of reactions</p></td> <td><em>required</em></td> </tr> <tr> <td><code>tolerance</code></td> <td><code>float</code></td> <td><p>Tolerance for the flux values (a solution is valid if the flux is within optimal value +/- tol. Defaults to 1e-6.</p></td> <td><code>1e-06</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>set_fluxes_for</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reactions</span><span class=p>,</span> <span class=n>tolerance</span><span class=o>=</span><span class=mf>1e-6</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Force the flux of certain reactions to match current values.</span>

<span class=sd>    After calling `.solve()` for a flux optimization problem (e.g. FBA), this</span>
<span class=sd>    method adds a new constraint to force the flux of the given reactions to</span>
<span class=sd>    match the current flux values found after the optimization.</span>

<span class=sd>    This is interesting for example to implement methods like sparse-FBA, where</span>
<span class=sd>    the optimization is no longer the flux but the number of active reactions,</span>
<span class=sd>    and a new constraint is required to preserve optimality of fluxes.</span>

<span class=sd>    Args:</span>
<span class=sd>        reactions (list): reaction or list of reactions</span>
<span class=sd>        tolerance (float, optional): Tolerance for the flux values</span>
<span class=sd>            (a solution is valid if the flux is within optimal value +/- tol. </span>
<span class=sd>            Defaults to 1e-6.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>i</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>find_reaction</span><span class=p>(</span><span class=n>reactions</span><span class=p>)</span>
    <span class=n>lb</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>r</span><span class=p>[</span><span class=s1>&#39;lb&#39;</span><span class=p>],</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>tolerance</span><span class=p>)</span>
    <span class=n>ub</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>r</span><span class=p>[</span><span class=s1>&#39;ub&#39;</span><span class=p>],</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>flux_values</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>tolerance</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>add_constraint</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>fluxvars</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>lb</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>add_constraint</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>fluxvars</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>ub</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.set_objective class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_objective</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cost_vector</span><span class=p>,</span> <span class=n>variables</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Set the optmization objective of the model.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>cost_vector</code></td> <td><code>Iterable</code></td> <td><p>List with the cost for each variable</p></td> <td><em>required</em></td> </tr> <tr> <td><code>variables</code></td> <td><code>Iterable</code></td> <td><p>Variables used for the objective function</p></td> <td><em>required</em></td> </tr> <tr> <td><code>direction</code></td> <td><code>str</code></td> <td><p>Optimization direction (min or max). Defaults to 'max'.</p></td> <td><code>&#39;max&#39;</code></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>set_objective</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cost_vector</span><span class=p>,</span> <span class=n>variables</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Set the optmization objective of the model.</span>

<span class=sd>    Args:</span>
<span class=sd>        cost_vector (Iterable): List with the cost for each variable</span>
<span class=sd>        variables (Iterable): Variables used for the objective function</span>
<span class=sd>        direction (str, optional): Optimization direction (min or max). Defaults to &#39;max&#39;.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>objective</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=s2>&quot;Previous objective changed&quot;</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>objective</span> <span class=o>=</span> <span class=p>(</span><span class=n>cost_vector</span><span class=p>,</span> <span class=n>variables</span><span class=p>,</span> <span class=n>direction</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.set_rxn_objective class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_rxn_objective</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Set a flux objective</p> <p>Maximize or minimize the flux through a given reaction.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>rxn</code></td> <td><code>str</code></td> <td><p>Name of the reaction to use for the optimization</p></td> <td><em>required</em></td> </tr> <tr> <td><code>direction</code></td> <td><code>str</code></td> <td><p>Minimization or maximization of the flux ('min' or 'max'). Defaults to 'max'.</p></td> <td><code>&#39;max&#39;</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>set_rxn_objective</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Set a flux objective</span>

<span class=sd>    Maximize or minimize the flux through a given reaction.</span>

<span class=sd>    Args:</span>
<span class=sd>        rxn (str): Name of the reaction to use for the optimization</span>
<span class=sd>        direction (str, optional): Minimization or maximization of </span>
<span class=sd>            the flux (&#39;min&#39; or &#39;max&#39;). Defaults to &#39;max&#39;.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>i</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>find_reaction</span><span class=p>(</span><span class=n>rxn</span><span class=p>)</span>
    <span class=n>cost</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>R</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]))</span>
    <span class=n>cost</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>set_objective</span><span class=p>(</span><span class=n>cost</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>fluxvars</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=n>direction</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.setup class="doc doc-heading"> <code class="highlight language-python"><span class=n>setup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Provide the options for the solver.</p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>int_tol</code></td> <td><code>float</code></td> <td><p>Integrality tolerance for integer variables. Defaults to 1e-8.</p></td> </tr> <tr> <td><code>feas_tol</code></td> <td><code>float</code></td> <td><p>Feasibility tolerance. Defaults to 1e-8.</p></td> </tr> <tr> <td><code>opt_tol</code></td> <td><code>float</code></td> <td><p>Relative MIP gap tolerance for MIP problems. Defaults to 1e-5.</p></td> </tr> <tr> <td><code>verbosity</code></td> <td><code>int</code></td> <td><p>Values above 0 force the backends to be verbose. Use a value of 1 to show useful information about the search. Defaults to 0.</p></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>the configured instance of the BaseModel</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>setup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Provide the options for the solver.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        int_tol (float): Integrality tolerance for integer variables.</span>
<span class=sd>            Defaults to 1e-8.</span>
<span class=sd>        feas_tol (float): Feasibility tolerance. Defaults to 1e-8.</span>
<span class=sd>        opt_tol (float): Relative MIP gap tolerance for MIP problems.</span>
<span class=sd>            Defaults to 1e-5.</span>
<span class=sd>        verbosity (int): Values above 0 force the backends to be verbose.</span>
<span class=sd>            Use a value of 1 to show useful information about the search.</span>
<span class=sd>            Defaults to 0.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: the configured instance of the BaseModel</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>problem</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=s2>&quot;Problem cannot be configured since it was not initialized&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>
    <span class=n>options</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>()</span>
    <span class=n>int_tol</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;int_tol&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=s2>&quot;int_tol&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=k>else</span> <span class=kc>None</span>
    <span class=n>feas_tol</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;feas_tol&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=s2>&quot;feas_tol&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=k>else</span> <span class=kc>None</span>
    <span class=n>opt_tol</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;opt_tol&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=s2>&quot;opt_tol&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=k>else</span> <span class=kc>None</span>
    <span class=n>verbosity</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;verbosity&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=s2>&quot;verbosity&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=k>else</span> <span class=kc>None</span>
    <span class=n>solver</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;solver&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=s2>&quot;solver&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=k>else</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=n>int_tol</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>options</span><span class=p>[</span><span class=s2>&quot;int_tol&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>int_tol</span>
    <span class=k>if</span> <span class=n>feas_tol</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>options</span><span class=p>[</span><span class=s2>&quot;feas_tol&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>feas_tol</span>
    <span class=k>if</span> <span class=n>opt_tol</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>options</span><span class=p>[</span><span class=s2>&quot;opt_tol&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>opt_tol</span>
    <span class=k>if</span> <span class=n>verbosity</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>options</span><span class=p>[</span><span class=s2>&quot;verbosity&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>verbosity</span>
    <span class=k>if</span> <span class=n>solver</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>options</span><span class=p>[</span><span class=s2>&quot;solver&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>solver</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_options</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>options</span><span class=p>)</span>
    <span class=c1># Calculate a min eps value to avoid numerical issues</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_options</span><span class=p>[</span><span class=s2>&quot;_min_eps&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=mi>2</span><span class=o>*</span><span class=bp>self</span><span class=o>.</span><span class=n>_options</span><span class=p>[</span><span class=s2>&quot;int_tol&quot;</span><span class=p>])</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_options</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.solve class="doc doc-heading"> <code class="highlight language-python"><span class=n>solve</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>verbosity</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_seconds</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Solve the current model and assign the values to the variables of the model.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>verbosity</code></td> <td><code>int</code></td> <td><p>Level of verbosity for the solver. Values above 0 will force the backend to show output information of the search. Defaults to None.</p></td> <td><code>None</code></td> </tr> <tr> <td><code>max_seconds</code></td> <td><code>int</code></td> <td><p>Max time in seconds for the search. Defaults to None.</p></td> <td><code>None</code></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>solve</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>verbosity</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_seconds</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Solve the current model and assign the values to the variables of the model.</span>

<span class=sd>    Args:</span>
<span class=sd>        verbosity (int, optional): Level of verbosity for the solver. </span>
<span class=sd>            Values above 0 will force the backend to show output information of the search. Defaults to None.</span>
<span class=sd>        max_seconds (int, optional): Max time in seconds for the search. Defaults to None.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_last_start_time</span> <span class=o>=</span> <span class=n>perf_counter</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.steady_state class="doc doc-heading"> <code class="highlight language-python"><span class=n>steady_state</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Add the required constraints for finding steady-state fluxes</p> <p>The method adds the <span class=arithmatex>\(S * V = 0\)</span> set of constraints, where <span class=arithmatex>\(S\)</span> is the stoichiometric matrix and <span class=arithmatex>\(V\)</span> the flux variables.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>steady_state</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Add the required constraints for finding steady-state fluxes</span>

<span class=sd>    The method adds the $S * V = 0$ set of constraints, where $S$</span>
<span class=sd>    is the stoichiometric matrix and $V$ the flux variables.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>pass</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 id=miom.miom.BaseModel.subset_selection class="doc doc-heading"> <code class="highlight language-python"><span class=n>subset_selection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn_weights</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=n>eps</span><span class=o>=</span><span class=mf>0.01</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Transform the current model into a subset selection problem.</p> <p>The subset selection problem consists of selecting the positive weighted reactions and remove the negative weighted reactions, subject to steady state constraints and/or additional constraints on fluxes, and maximizing the weighted sum of the (absolute) weights for the successfully selected reactions (with positive weights) and the successfully removed reactions (with negative weights). Selected reactions are forced to have an absolute flux value greater or equal to the threshold <code>eps</code> (1e-2 by default). Removed reactions should have a flux equal to 0.</p> <p>Each reaction is associated with a weight (positive or negative) provided in the parameter <code>rxn_weights</code>, and the objective is to select the reactions that optimizes the following expression:</p> <div class=arithmatex>\[ f(x) = \sum_i^n |w_i| * x_i \]</div> <p>where <span class=arithmatex>\(x_i\)</span> are the indicator variables for the reactions <span class=arithmatex>\(i\)</span> and <span class=arithmatex>\(w_i\)</span> are the weights for the reactions associated to the indicator variable. Indicator variables are automatically created for each reaction associated to a non-zero weight. Two (mutually exclusive) indicator variables are used for positive weighted reactions that are reversible to indicate whether there is positive or negative flux through the reaction. A single indicator variable is created for positive weighted non-reversible reactions, to indicate if the reaction is selected (has a non-zero flux greater or equal to <code>eps</code>) in which case the indicator variable is 1, or 0 otherwise. </p> <p>A single binary indicator variable is also created for negative weighted reactions, indicating whether the reaction was not selected (i.e, has 0 flux, in which case the indicator variable is 1) or not (in which case the indicator variable is 0).</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>rxn_weights</code></td> <td><code>list</code></td> <td><p>List of weights for each reaction. If a single value is provided, it is assumed to be the weight for all reactions.</p></td> <td><em>required</em></td> </tr> <tr> <td><code>eps</code></td> <td><code>float</code></td> <td><p>Min absolute flux value for weighted reactions to consider them active or inactive. Defaults to 1e-2.</p></td> <td><code>0.01</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>instance of BaseModel with the modifications applied.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=nd>@_composable</span>
<span class=k>def</span> <span class=nf>subset_selection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rxn_weights</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=n>eps</span><span class=o>=</span><span class=mf>1e-2</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;Transform the current model into a subset selection problem.</span>

<span class=sd>    The subset selection problem consists of selecting the positive weighted</span>
<span class=sd>    reactions and remove the negative weighted reactions, subject to steady</span>
<span class=sd>    state constraints and/or additional constraints on fluxes, and maximizing</span>
<span class=sd>    the weighted sum of the (absolute) weights for the successfully selected reactions</span>
<span class=sd>    (with positive weights) and the successfully removed reactions (with negative</span>
<span class=sd>    weights). Selected reactions are forced to have an absolute flux value greater </span>
<span class=sd>    or equal to the threshold `eps` (1e-2 by default). Removed reactions should have a</span>
<span class=sd>    flux equal to 0.</span>

<span class=sd>    Each reaction is associated with a weight (positive or negative) provided</span>
<span class=sd>    in the parameter `rxn_weights`, and the objective is to select the reactions </span>
<span class=sd>    that optimizes the following expression:</span>

<span class=sd>    $$</span>
<span class=sd>    f(x) = \sum_i^n |w_i| * x_i</span>
<span class=sd>    $$</span>

<span class=sd>    where $x_i$ are the indicator variables for the reactions $i$ and $w_i$ are</span>
<span class=sd>    the weights for the reactions associated to the indicator variable. Indicator</span>
<span class=sd>    variables are automatically created for each reaction associated to a non-zero</span>
<span class=sd>    weight. Two (mutually exclusive) indicator variables are used for positive weighted </span>
<span class=sd>    reactions that are reversible to indicate whether there is positive or negative flux </span>
<span class=sd>    through the reaction. A single indicator variable is created for positive weighted</span>
<span class=sd>    non-reversible reactions, to indicate if the reaction is selected (has a non-zero </span>
<span class=sd>    flux greater or equal to `eps`) in which case the indicator variable is 1, </span>
<span class=sd>    or 0 otherwise. </span>

<span class=sd>    A single binary indicator variable is also created for negative weighted reactions, </span>
<span class=sd>    indicating whether the reaction was not selected (i.e, has 0 flux, in which case the</span>
<span class=sd>    indicator variable is 1) or not (in which case the indicator variable is 0).</span>

<span class=sd>    Args:</span>
<span class=sd>        rxn_weights (list): List of weights for each reaction. If a single value</span>
<span class=sd>            is provided, it is assumed to be the weight for all reactions.</span>
<span class=sd>        eps (float, optional): Min absolute flux value for weighted reactions</span>
<span class=sd>            to consider them active or inactive. Defaults to 1e-2.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: instance of BaseModel with the modifications applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Calculate min valid EPS based on integrality tolerance</span>
    <span class=n>min_eps</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_options</span><span class=p>[</span><span class=s2>&quot;_min_eps&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>eps</span> <span class=o>&lt;</span> <span class=n>min_eps</span><span class=p>:</span>
        <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Minimum epsilon value below min. allowed value, changed to </span><span class=si>{</span><span class=n>min_eps</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
    <span class=n>eps</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>eps</span><span class=p>,</span> <span class=n>min_eps</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>rxn_weights</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>):</span>
        <span class=n>rxn_weights</span> <span class=o>=</span> <span class=p>[</span><span class=n>rxn_weights</span><span class=p>]</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>num_reactions</span>
    <span class=n>rxnw</span> <span class=o>=</span> <span class=n>_weighted_rxns</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>R</span><span class=p>,</span> <span class=n>rxn_weights</span><span class=p>)</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>indicators</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>variables</span><span class=o>.</span><span class=n>_assigned_reactions</span> <span class=o>=</span> <span class=n>rxnw</span>
        <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>eps</span><span class=o>=</span><span class=n>eps</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=n>direction</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=s2>&quot;Indicator variables were already assigned&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=miom.miom.Comparator class="doc doc-heading"> <code>Comparator</code> </h2> <div class="doc doc-contents "> <p>Comparator enum to use with <a href=#miom.miom.BaseModel>select_subnetwork()</a></p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>GREATER_OR_EQUAL</code></td> <td><code>str</code></td> <td><p>Select those variables with a value greater or equal than the one provided.</p></td> </tr> <tr> <td><code>LESS_OR_EQUAL</code></td> <td><code>str</code></td> <td><p>Select those variables with a value less or equal than the one provided.</p></td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=miom.miom.ExtractionMode class="doc doc-heading"> <code>ExtractionMode</code> </h2> <div class="doc doc-contents "> <p>Method to select the subnetwork to be extracted.</p> <p>This mode works with the method <a href=#miom.miom.BaseModel>select_subnetwork</a> only after a subset selection problem was succesfully solved. If the model is configured as a subset selection problem, the user can extract a subnetwork after the method solve() was called. The selection of the subnetwork can be done using the indicator variables or the flux variables.</p> <p>For more information, please read the documentation of the method <a href=#miom.miom.BaseModel>subset_selection</a></p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>ABSOLUTE_FLUX_VALUE</code></td> <td><code>str</code></td> <td><p>Use a decision criterion based on the value of the fluxes. For example, by selecting all the reactions that have an absolute flux value above a certain threshold.</p></td> </tr> <tr> <td><code>INDICATOR_VALUE</code></td> <td><code>str</code></td> <td><p>Use the binary indicator variables to select the subnetwork. Binary indicator variables are created for a subset selection problem (after calling <a href=#miom.miom.BaseModel>subset_selection</a>). Two indicators are created for each positive weighted and reversible reaction, to indicate if there is a non-zero positive flux or negative flux respectively. A single binary indicator variable is created for each negative weighted reaction. In this case, an indicator value of 1 indicates that the reaction was succesfully removed, and 0 otherwise. You can use the value of the indicator variables to select a subnetwork after solving. For example, if all the reactions have a negative weight (since the goal is, for example, to minimize the number of reactions subject to some other constraints) and you want to select only the reactions that were not removed after solving, you can use the indicator variables with a value of 0.</p> <p>Usage example: <div class=highlight><pre><span></span><code>    <span class=n>m</span><span class=o>.</span>
    <span class=n>steady_state</span><span class=p>()</span><span class=o>.</span>
    <span class=n>add_constraints</span><span class=p>(</span><span class=o>...</span><span class=p>)</span><span class=o>.</span>
    <span class=c1># Convert to a subset selection, where each reaction</span>
    <span class=c1># has a weight of -1.</span>
    <span class=n>subset_selection</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span>
    <span class=c1># Solve the optimization problem</span>
    <span class=o>.</span><span class=n>solve</span><span class=p>()</span>
    <span class=c1># Get the subnetwork selecting the reactions</span>
    <span class=c1># with an indicator value below 0.5. Since variables</span>
    <span class=c1># are binary, it basically selects all the reactions</span>
    <span class=c1># associated with a binary indicator value of 0.</span>
    <span class=c1># This corresponds to the reactions that were not</span>
    <span class=c1># removed after solving the problem (since all the</span>
    <span class=c1># reactions have negative weights, and their binary</span>
    <span class=c1># indicator variables are 1 if they were successfully</span>
    <span class=c1># removed, and 0 if they could not be removed).</span>
    <span class=o>.</span><span class=n>select_subnetwork</span><span class=p>(</span>
        <span class=n>mode</span><span class=o>=</span><span class=n>ExtractionMode</span><span class=o>.</span><span class=n>INDICATOR_VALUE</span><span class=p>,</span>
        <span class=n>comparator</span><span class=o>=</span><span class=n>Comparator</span><span class=o>.</span><span class=n>LESS_OR_EQUAL</span><span class=p>,</span>
        <span class=n>value</span><span class=o>=</span><span class=mf>0.5</span>
    <span class=p>)</span><span class=o>.</span><span class=n>network</span>
</code></pre></div></p></td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=miom.miom.Solvers class="doc doc-heading"> <code>Solvers</code> </h2> <div class="doc doc-contents "> <p>Solvers supported by the miom module.</p> <p>Please refer to https://picos-api.gitlab.io/picos/introduction.html to see the list of supported solvers using the PICOS backend. The Python-MIP backend only supports the GUROBI and CBC solvers.</p> <p>Note that in some cases, the Python-MIP backend (GUROBI/CBC) might be faster setting up the problem than the PICOS backend since it has less overhead.</p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>GUROBI_PYMIP</code></td> <td><code>str</code></td> <td><p>Recommended solver for most problems (LP, MIP). It uses the Python-MIP backend. Note that GUROBI is a commercial software which require a license. Free academic licenses are also available at https://gurobi.com/free/.</p></td> </tr> <tr> <td><code>GUROBI</code></td> <td><code>str</code></td> <td><p>For using GUROBI with the PICOS backend instead of Python-MIP.</p></td> </tr> <tr> <td><code>COIN_OR_CBC</code></td> <td><code>str</code></td> <td><p>Free LP/MIP solver with good performance, provided with Python-MIP.</p></td> </tr> <tr> <td><code>CPLEX</code></td> <td><code>str</code></td> <td><p>Commercial solver with a performance similar to GUROBI. Only supported by the PICOS backend.</p></td> </tr> <tr> <td><code>SCIP</code></td> <td><code>str</code></td> <td><p>Free academic solver, supported by the PICOS backend.</p></td> </tr> <tr> <td><code>GLPK</code></td> <td><code>str</code></td> <td><p>Open source solver, supported by the PICOS backend.</p></td> </tr> <tr> <td><code>MOSEK</code></td> <td><code>str</code></td> <td><p>Commercial solver, supported by the PICOS backend.</p></td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=miom.miom.load class="doc doc-heading"> <code class="highlight language-python"><span class=n>load</span><span class=p>(</span><span class=n>network</span><span class=p>,</span> <span class=n>solver</span><span class=o>=&lt;</span><span class=n>Solvers</span><span class=o>.</span><span class=n>COIN_OR_CBC</span><span class=p>:</span> <span class=s1>&#39;cbc&#39;</span><span class=o>&gt;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create a MIOM optimization model for a given solver. If the solver is Coin-OR CBC, an instance of PythonMipModel is used (which uses the Python-MIP lib as the backend). Otherwise, a PicosModel is created (which uses PICOS as the backend).</p> <p><strong>Examples:</strong></p> <p>Example of how to perform FBA to maximize flux through the <code>BIOMASS_reaction</code> in the iMM1865 model:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>miom</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>network</span> <span class=o>=</span> <span class=n>miom</span><span class=o>.</span><span class=n>mio</span><span class=o>.</span><span class=n>load_gem</span><span class=p>(</span><span class=s2>&quot;https://github.com/pablormier/miom-gems/raw/main/gems/mus_musculus_iMM1865.miom&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>V</span><span class=p>,</span> <span class=n>X</span> <span class=o>=</span> <span class=p>(</span><span class=n>miom</span>
            <span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>network</span><span class=p>)</span>
            <span class=o>.</span><span class=n>steady_state</span><span class=p>()</span>
            <span class=o>.</span><span class=n>set_rxn_objective</span><span class=p>(</span><span class=s2>&quot;BIOMASS_reaction&quot;</span><span class=p>)</span>
            <span class=o>.</span><span class=n>solve</span><span class=p>(</span><span class=n>verbosity</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
            <span class=o>.</span><span class=n>get_values</span><span class=p>())</span>
</code></pre></div> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>network</code></td> <td><code>miom_network or str</code></td> <td><p>A miom metabolic network or a valid file that can be imported with <a href=../mio/#miom.mio.load_gem>load_gem()</a>.</p></td> <td><em>required</em></td> </tr> <tr> <td><code>solver</code></td> <td><code>Solver</code></td> <td><p>The solver to be used. Defaults to Solver.GLPK.</p></td> <td><code>&lt;Solvers.COIN_OR_CBC: &#39;cbc&#39;&gt;</code></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>BaseModel</code></td> <td><p>A BaseModel object, which can be PythonMipModel if CBC solver is used, or a PicosModel otherwise.</p></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>miom/miom.py</code></summary> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>load</span><span class=p>(</span><span class=n>network</span><span class=p>,</span> <span class=n>solver</span><span class=o>=</span><span class=n>Solvers</span><span class=o>.</span><span class=n>COIN_OR_CBC</span><span class=p>):</span>
    <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Create a MIOM optimization model for a given solver.</span>
<span class=sd>    If the solver is Coin-OR CBC, an instance of PythonMipModel is used</span>
<span class=sd>    (which uses the Python-MIP lib as the backend). Otherwise, a PicosModel</span>
<span class=sd>    is created (which uses PICOS as the backend).</span>

<span class=sd>    Example:</span>
<span class=sd>        Example of how to perform FBA to maximize flux through the</span>
<span class=sd>        `BIOMASS_reaction` in the iMM1865 model:</span>

<span class=sd>        ```python</span>
<span class=sd>        &gt;&gt;&gt; import miom</span>
<span class=sd>        &gt;&gt;&gt; network = miom.mio.load_gem(&quot;https://github.com/pablormier/miom-gems/raw/main/gems/mus_musculus_iMM1865.miom&quot;)</span>
<span class=sd>        &gt;&gt;&gt; V, X = (miom</span>
<span class=sd>                    .load(network)</span>
<span class=sd>                    .steady_state()</span>
<span class=sd>                    .set_rxn_objective(&quot;BIOMASS_reaction&quot;)</span>
<span class=sd>                    .solve(verbosity=1)</span>
<span class=sd>                    .get_values())</span>
<span class=sd>        ```</span>

<span class=sd>    Args:</span>
<span class=sd>        network (miom_network or str): A miom metabolic network or a valid file that</span>
<span class=sd>            can be imported with [load_gem()][miom.mio.load_gem].</span>
<span class=sd>        solver (Solver, optional): The solver to be used. Defaults to Solver.GLPK.</span>

<span class=sd>    Returns:</span>
<span class=sd>        BaseModel: A BaseModel object, which can be PythonMipModel if CBC solver is</span>
<span class=sd>            used, or a PicosModel otherwise.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>solver</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>solver</span><span class=o>.</span><span class=n>value</span><span class=p>)</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>solver</span><span class=p>,</span> <span class=n>Enum</span><span class=p>)</span> <span class=k>else</span> <span class=nb>str</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>network</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
        <span class=n>network</span> <span class=o>=</span> <span class=n>load_gem</span><span class=p>(</span><span class=n>network</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>solver</span> <span class=o>==</span> <span class=s1>&#39;cbc&#39;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>PythonMipModel</span><span class=p>(</span><span class=n>miom_network</span><span class=o>=</span><span class=n>network</span><span class=p>,</span> <span class=n>solver_name</span><span class=o>=</span><span class=n>solver</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>solver</span> <span class=o>==</span> <span class=s1>&#39;gurobi_pymip&#39;</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>PythonMipModel</span><span class=p>(</span><span class=n>miom_network</span><span class=o>=</span><span class=n>network</span><span class=p>,</span> <span class=n>solver_name</span><span class=o>=</span><span class=s1>&#39;gurobi&#39;</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>PicosModel</span><span class=p>(</span><span class=n>miom_network</span><span class=o>=</span><span class=n>network</span><span class=p>,</span> <span class=n>solver_name</span><span class=o>=</span><span class=n>solver</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../mio/ class="md-footer__link md-footer__link--prev" aria-label="Previous: mio.py" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> mio.py </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2021 INRAE Toxalim </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.709b4209.min.js", "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.febc23d1.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js data-cfasync=false></script> <script>
		window.cookieconsent.initialise({
			"palette": {
			"popup": {
				"background": "#edeff5",
				"text": "#838391"
			},
			"button": {
				"background": "#4b81e8"
			}
			}
		});
	</script> </body> </html>